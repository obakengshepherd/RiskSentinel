# ===========================================================================
# RiskSentinel — Environment Variables
# Copy this file to .env and fill in production secrets.
# ===========================================================================

# ── App ────────────────────────────────────────────────────────────────────
APP_NAME=RiskSentinel
APP_ENV=development
APP_PORT=8000
DEBUG=false
SECRET_KEY=change-me-in-production-minimum-32-characters
JWT_SECRET_KEY=change-me-in-production-minimum-32-characters

# ── Database ───────────────────────────────────────────────────────────────
DATABASE_URL=postgresql+asyncpg://risksentinel:password@localhost:5432/risksentinel
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40
DATABASE_POOL_RECYCLE=3600

# ── Kafka ──────────────────────────────────────────────────────────────────
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_TRANSACTION_TOPIC=rs.transactions.raw
KAFKA_SCORED_TOPIC=rs.transactions.scored
KAFKA_ALERT_TOPIC=rs.alerts
KAFKA_CONSUMER_GROUP=risksentinel-scorer
KAFKA_TIMEOUT_MS=10000

# ── Risk Thresholds ────────────────────────────────────────────────────────
RISK_SCORE_HIGH=0.7
RISK_SCORE_CRITICAL=0.9
VELOCITY_WINDOW_SECONDS=300
VELOCITY_MAX_TXN_COUNT=10
VELOCITY_MAX_TOTAL_ZAR=50000.0
AMOUNT_ANOMALY_ZSCORE=3.0

# ── ML ─────────────────────────────────────────────────────────────────────
ML_ENABLED=true
ML_MODEL_PATH=ml/models/anomaly_model.pkl

# ── Authentication & Authorization ─────────────────────────────────────────
AUTH_ENABLED=true
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24
JWT_REFRESH_EXPIRATION_DAYS=7
API_KEY_ENABLED=true

# ── Rate Limiting ──────────────────────────────────────────────────────────
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_REQUESTS_PER_SECOND=10

# ── CORS ───────────────────────────────────────────────────────────────────
CORS_ORIGINS=http://localhost:3000,http://localhost:8000
ALLOWED_HOSTS=localhost,127.0.0.1

# ── Logging & Observability ───────────────────────────────────────────────
LOG_LEVEL=INFO
LOG_FORMAT=json
STRUCTURED_LOGGING_ENABLED=true
METRICS_ENABLED=true
METRICS_PORT=9090
ENABLE_REQUEST_TRACING=true

# ── Request Validation ────────────────────────────────────────────────────
MAX_TRANSACTION_AMOUNT_ZAR=10000000.0
MIN_TRANSACTION_AMOUNT_ZAR=0.01
MAX_REQUEST_SIZE_MB=10

